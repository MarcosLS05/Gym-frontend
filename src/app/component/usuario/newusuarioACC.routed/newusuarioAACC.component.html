<div class="container mt-5 form-container">
  <h2 class="form-title">Registro de Usuario</h2>

  <!-- Mensajes -->
  <div *ngIf="mensajeExito" class="alert alert-success mensaje-exito">
    {{ mensajeExito }}
  </div>
  <div *ngIf="mensajeError" class="alert alert-danger mensaje-error">
    {{ mensajeError }}
  </div>

  <form (ngSubmit)="registrarUsuario()" #registroForm="ngForm" novalidate>
    <!-- Sección de Información Personal -->
    <div class="form-section mb-4">
      <h3 class="section-title">Información Personal</h3>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="nombre">Nombre</label>
            <input type="text" id="nombre" name="nombre" class="form-control" required [(ngModel)]="usuario.nombre" #nombre="ngModel" />
            <div *ngIf="nombre.invalid && nombre.touched" class="error-text">El nombre es obligatorio.</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="dni">DNI</label>
            <input type="text" id="dni" name="dni" class="form-control" required [(ngModel)]="usuario.dni" #dni="ngModel" />
            <div *ngIf="dni.invalid && dni.touched" class="error-text">El DNI es obligatorio.</div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="apellido1">Primer Apellido</label>
            <input type="text" id="apellido1" name="apellido1" class="form-control" required [(ngModel)]="usuario.apellido1" #apellido1="ngModel" />
            <div *ngIf="apellido1.invalid && apellido1.touched" class="error-text">El primer apellido es obligatorio.</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="apellido2">Segundo Apellido</label>
            <input type="text" id="apellido2" name="apellido2" class="form-control" [(ngModel)]="usuario.apellido2" />
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="fecha_nacimiento">Fecha de Nacimiento</label>
            <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" class="form-control" required [(ngModel)]="usuario.fecha_nacimiento" #fecha_nacimiento="ngModel" />
            <div *ngIf="fecha_nacimiento.invalid && fecha_nacimiento.touched" class="error-text">La fecha de nacimiento es obligatoria.</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="telefono">Teléfono</label>
            <input type="text" id="telefono" name="telefono" class="form-control" required pattern="[0-9]{9}" [(ngModel)]="usuario.telefono" #telefono="ngModel" />
            <div *ngIf="telefono.invalid && telefono.touched" class="error-text">El teléfono debe tener 9 dígitos.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de Contacto -->
    <div class="form-section mb-4">
      <h3 class="section-title">Datos de Contacto</h3>
      <div class="form-group mb-3">
        <label for="email">Correo Electrónico</label>
        <input type="email" id="email" name="email" class="form-control" required [(ngModel)]="usuario.email" #email="ngModel" />
        <div *ngIf="email.invalid && email.touched" class="error-text">Introduce un correo electrónico válido.</div>
      </div>
      
      <div class="form-group mb-4">
        <label for="password">Contraseña</label>
        <input type="password" id="password" name="password" class="form-control" required minlength="8" [(ngModel)]="usuario.password" #password="ngModel" />
        <div *ngIf="password.invalid && password.touched" class="error-text">La contraseña debe tener al menos 8 caracteres.</div>
      </div>
    </div>

    <!-- Sección de Dirección -->
    <div class="form-section mb-4">
      <h3 class="section-title">Dirección</h3>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="direccion">Dirección</label>
            <input type="text" id="direccion" name="direccion" class="form-control" required [(ngModel)]="usuario.direccion" #direccion="ngModel" />
            <div *ngIf="direccion.invalid && direccion.touched" class="error-text">La dirección es obligatoria.</div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="provincia">Provincia</label>
            <input type="text" id="provincia" name="provincia" class="form-control" required [(ngModel)]="usuario.provincia" #provincia="ngModel" />
            <div *ngIf="provincia.invalid && provincia.touched" class="error-text">La provincia es obligatoria.</div>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-3">
            <label for="codigo_postal">Código Postal</label>
            <input type="text" id="codigo_postalStr"
                   placeholder=" "
                   class="form-control"
                   required
                   minlength="5"
                   maxlength="5"
                   pattern="[0-9]{5}"
                   [(ngModel)]="codigo_postalStr"
                   #codigo_postal="ngModel"
                   name="codigo_postalStr" />
            <div *ngIf="codigo_postal.invalid && codigo_postal.touched" class="error-text">
              El código postal debe tener exactamente 5 dígitos numéricos.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Checkbox para tipo de cuenta -->
    <div class="form-group form-check mb-4">
      <input type="checkbox" class="form-check-input" id="esEntrenador" [(ngModel)]="esEntrenador" name="esEntrenador" />
      <label class="form-check-label" for="esEntrenador">¿Deseas registrarte como profesional del deporte?</label>
    </div>

    <!-- Botón Registrar -->
    <button type="submit" class="btn btn-primary btn-submit" [disabled]="registroForm.invalid">Registrarse</button>
  </form>
</div>